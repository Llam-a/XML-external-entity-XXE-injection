# Khai thác lỗ hổng XXE mù để lấy dữ liệu qua thông báo lỗi

Một phương pháp khác để khai thác lỗ hổng XXE mù là kích hoạt một lỗi phân tích XML trong đó thông báo lỗi chứa dữ liệu nhạy cảm mà bạn muốn thu thập. Phương pháp này sẽ hiệu quả nếu ứng dụng trả về thông báo lỗi kết quả trong phản hồi của nó.

Bạn có thể kích hoạt thông báo lỗi phân tích XML chứa nội dung của tệp /etc/passwd bằng cách sử dụng một DTD bên ngoài độc hại như sau:

```xml
<!ENTITY % file SYSTEM "file:///etc/passwd">
<!ENTITY % eval "<!ENTITY &#x25; error SYSTEM 'file:///nonexistent/%file;'>">
%eval;
%error;
```

# DTD này thực hiện các bước sau:

Xác định một entity XML parameter có tên file, chứa nội dung của tệp `/etc/passwd`.

Xác định một entity XML parameter khác có tên `eval`, chứa một khai báo động của entity XML parameter khác có tên error. Entity error sẽ được đánh giá bằng cách tải một tệp không tồn tại có tên chứa giá trị của entity file.

Sử dụng entity `eval`, gây ra việc thực hiện khai báo động của entity error.

Sử dụng entity error, để giá trị của nó được đánh giá bằng cách cố gắng tải tệp không tồn tại, dẫn đến thông báo lỗi chứa tên của tệp không tồn tại, đó chính là nội dung của tệp `/etc/passwd`.
