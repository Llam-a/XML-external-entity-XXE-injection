# Overview:

Khai thác XXE để thực hiện cuộc tấn công SSRF (Server-Side Request Forgery), trong đó một thực thể ngoại vi được định nghĩa dựa trên một URL trỏ tới hệ thống backend.

Khai thác XXE để thực hiện cuộc tấn công SSRF là khi kẻ tấn công chèn một thực thể ngoại vi vào tài liệu XML, tham chiếu đến một URL của hệ thống backend. Khi ứng dụng xử lý XML, nó sẽ gửi yêu cầu tới URL được chỉ định trong thực thể ngoại vi và trả về phản hồi từ hệ thống backend đó.

Ví dụ:

```xml
<!DOCTYPE data [
  <!ENTITY xxe SYSTEM "http://internal-backend-system/endpoint">
]>
<data>&xxe;</data>
```

Trong ví dụ trên, kẻ tấn công chèn một thực thể ngoại vi `xxe` và trỏ tới URL `http://internal-backend-system/endpoint` của hệ thống backend nội bộ. Ứng dụng sẽ gửi yêu cầu tới URL này và trả về phản hồi từ hệ thống backend.

Việc khai thác XXE để thực hiện cuộc tấn công SSRF có thể cho phép kẻ tấn công tương tác với các hệ thống nội bộ, thực hiện các yêu cầu từ chối dịch vụ (DoS), hoặc khai thác các lỗ hổng khác trong hệ thống backend.

Ngoài việc thu thập dữ liệu nhạy cảm, một tác động chính khác của cuộc tấn công XXE là khả năng thực hiện tấn công server-side request forgery (SSRF). Đây là một lỗ hổng có tiềm năng nghiêm trọng trong đó ứng dụng phía máy chủ có thể bị thuyết phục để thực hiện các yêu cầu HTTP đến bất kỳ URL nào mà máy chủ có thể truy cập được.

Để khai thác một lỗ hổng XXE để thực hiện tấn công SSRF, bạn cần xác định một thực thể XML bên ngoài bằng cách sử dụng URL mà bạn muốn tấn công, và sử dụng thực thể đã xác định trong một giá trị dữ liệu. Nếu bạn có thể sử dụng thực thể đã xác định trong một giá trị dữ liệu được trả về trong phản hồi của ứng dụng, bạn sẽ có thể xem phản hồi từ URL trong phản hồi của ứng dụng và có thể tương tác hai chiều với hệ thống phía sau. Nếu không thể, bạn chỉ có thể thực hiện các cuộc tấn công SSRF mù (blind SSRF), nhưng vẫn có thể gây ra hậu quả nghiêm trọng.

Ta sẽ thực hành [ở đây](https://github.com/Llam-a/XML-external-entity-XXE-injection/blob/main/Exercises/Lab2.md).

